<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Game X Character Sheet</title>
<link rel="stylesheet" href="styles.css"/>
</head>
<body data-theme="na"><a class="skip-link" href="#charName">Skip to character name</a>
<div id="sheet"><div aria-label="Sheet tools" class="sheet-tools">
<div class="tools-left">
<a class="tool-link" href="characters.html" id="backToCharactersLink">Characters</a>
<button id="exportJsonBtn" type="button">Export</button>
<button id="importJsonBtn" type="button">Import</button>
<button id="clearSheetBtn" type="button">Clear</button>
<span class="hint">Export JSON for a portable backup</span>
</div>
<div class="tools-right"><span aria-live="polite" class="save-status" id="saveStatus">Ready</span>
</div>
<div class="auth-controls" aria-label="Account">
  <span class="auth-user" id="authUserLabel">Signed out</span>
  <span class="cloud-status" id="cloudStatus">Cloud: Off</span>
  <button id="signInBtn" type="button">Sign in</button>
  <button id="signOutBtn" type="button" style="display:none">Sign out</button>
</div>
<input accept="application/json,.json" id="importJsonFile" style="display:none" type="file"/>
</div><div aria-labelledby="identity_title" class="section" id="identity">
<h2 id="identity_title">Character Information</h2>
<div class="identity-grid">
<div class="identity-fields">
<div class="identity-field">
<label for="charName">Character Name</label>
<input id="charName" name="charName" placeholder="Enter character name" type="text"/>
</div>
<div class="identity-field">
<label for="playerName">Player Name</label>
<input id="playerName" name="playerName" placeholder="Enter player name" type="text"/>
</div>
<div class="identity-field">
<label for="classSelect">Class</label>
<select id="classSelect" name="classSelect">
<option value="na" selected="">N/A / Other</option>
<option value="ninja">Ninja</option>
<option value="magicalguardian">Magical Guardian</option>
<option value="henshinhero">Henshin Hero</option>
<option value="weaponmaster">Weapon Master</option>
<option value="monstertamer">Monster Tamer</option>
<option value="spiritwarrior">Spirit Warrior</option>
<option value="mechpilot">Mech Pilot</option>
<option value="metamorph">Metamorph</option>
<option value="psychic">Psychic</option>
<option value="elementalist">Elementalist</option>
</select>
</div>
<div class="identity-field">
<label for="primaryAttribute">Primary Attribute</label>
<select id="primaryAttribute" name="primaryAttribute">
<option value=""></option>
</select>
</div>

<div class="identity-field">
<label for="level">Level</label>
<input id="level" inputmode="numeric" min="0" name="level" placeholder="Level" step="1" type="number"/>
</div>
<div class="identity-field">
<label for="background">Origin</label>
<input id="background" name="background" placeholder="Origin" type="text"/>
</div>
</div>
<div aria-label="Character portrait. Click to upload an image." class="portrait-box" role="button" tabindex="0">
<img alt="Character portrait" id="portraitPreview"/>
<div class="portrait-placeholder" id="portraitPlaceholder">Click to add portrait</div>
<button aria-label="Remove portrait" class="portrait-clear" id="portraitClear" title="Remove portrait" type="button">×</button>
<input accept="image/*" aria-label="Upload character portrait" id="portraitUpload" type="file"/>
</div>
</div>
</div><div aria-labelledby="resources_title" class="section" id="resources">
<h2 id="resources_title">Resources</h2>
<table>
<tr>
<th scope="col">HP (Max / Current)</th>
<th scope="col">Strain / Overstrained</th>
<th scope="col">Speed</th>
</tr>
<tr>
<td>
<div class="resource-inline">
<label class="visually-hidden" for="hpmax">HP maximum</label><input class="resource-input" id="hpmax" inputmode="numeric" min="0" name="hpmax" step="1" type="number"/>
<span class="resource-sep">/</span>
<label class="visually-hidden" for="hpcur">HP current</label><input class="resource-input" id="hpcur" inputmode="numeric" min="0" name="hpcur" step="1" type="number"/>
</div>
</td>
<td>
<div class="resource-inline">
<label class="visually-hidden" for="strain">Strain</label><input class="resource-input" id="strain" inputmode="numeric" min="0" name="strain" step="1" type="number"/>
<label class="check-inline">
<input class="resource-check" name="overstrained" type="checkbox"/>
              Overstrained
            </label>
</div>
</td>
<td><label class="visually-hidden" for="speed">Speed</label><input class="resource-input" id="speed" inputmode="numeric" min="0" name="speed" step="1" type="number"/></td>
</tr>
</table>




</div><div aria-labelledby="attributes_title" class="section" id="attributes">
<h2 id="attributes_title">Attributes &amp; Defenses</h2>
<div class="attribute-groups">
<fieldset class="attribute-group"><legend class="attribute-group-header">Physical</legend>

<label class="attribute-item"><span>Strength</span><input class="attr-input" inputmode="numeric" name="strength" step="1" type="number"/></label>
<label class="attribute-item"><span>Agility</span><input class="attr-input" inputmode="numeric" name="agility" step="1" type="number"/></label>
<label class="attribute-item"><span>Physical Defense</span><input class="attr-input derived-input" inputmode="numeric" name="physdef" step="1" type="number" readonly/></label>
</fieldset>
<fieldset class="attribute-group"><legend class="attribute-group-header">Mental</legend>

<label class="attribute-item"><span>Intellect</span><input class="attr-input" inputmode="numeric" name="intellect" step="1" type="number"/></label>
<label class="attribute-item"><span>Willpower</span><input class="attr-input" inputmode="numeric" name="willpower" step="1" type="number"/></label>
<label class="attribute-item"><span>Mental Defense</span><input class="attr-input derived-input" inputmode="numeric" name="mentdef" step="1" type="number" readonly/></label>
</fieldset>
<fieldset class="attribute-group"><legend class="attribute-group-header">Spiritual</legend>

<label class="attribute-item"><span>Attunement</span><input class="attr-input" inputmode="numeric" name="attunement" step="1" type="number"/></label>
<label class="attribute-item"><span>Heart</span><input class="attr-input" inputmode="numeric" name="heart" step="1" type="number"/></label>
<label class="attribute-item"><span>Spiritual Defense</span><input class="attr-input derived-input" inputmode="numeric" name="spiritdef" step="1" type="number" readonly/></label>
</fieldset>
</div>
</div><div aria-labelledby="skills_title" class="section" id="skills">
<h2 id="skills_title">Skills</h2>
<div class="subsection">

<div class="subhead">
  <h3>Defenses</h3>
  <span class="subhint">Training ranks (used to calculate total defense)</span>
</div>
<div class="defense-training-grid">
  <label class="defense-training-item">Physical Defense Training
    <select class="skill-rank-select" name="rank_physdef" aria-label="Physical Defense training rank">
      <option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
    </select>
  </label>
  <label class="defense-training-item">Mental Defense Training
    <select class="skill-rank-select" name="rank_mentdef" aria-label="Mental Defense training rank">
      <option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
    </select>
  </label>
  <label class="defense-training-item">Spiritual Defense Training
    <select class="skill-rank-select" name="rank_spiritdef" aria-label="Spiritual Defense training rank">
      <option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
    </select>
  </label>
</div>

<div class="subhead">
<h3>Core Skills</h3>
<span class="subhint">Universal utility skills</span>
</div>
<table>
<tr>
<th scope="col">Skill</th><th scope="col">Rank</th>
<th scope="col">Skill</th><th scope="col">Rank</th>
<th scope="col">Skill</th><th scope="col">Rank</th>
</tr>
<tr>
<td>Academics</td>
<td><select aria-label="Academics rank" class="skill-rank-select" name="rank_academics">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Athletics</td>
<td><select aria-label="Athletics rank" class="skill-rank-select" name="rank_athletics">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Crafting</td>
<td><select aria-label="Crafting rank" class="skill-rank-select" name="rank_crafting">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
</tr>
<tr>
<td>Culinary</td>
<td><select aria-label="Culinary rank" class="skill-rank-select" name="rank_culinary">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Deception</td>
<td><select aria-label="Deception rank" class="skill-rank-select" name="rank_deception">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Influence</td>
<td><select aria-label="Influence rank" class="skill-rank-select" name="rank_influence">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
</tr>
<tr>
<td>Insight</td>
<td><select aria-label="Insight rank" class="skill-rank-select" name="rank_insight">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Medicine</td>
<td><select aria-label="Medicine rank" class="skill-rank-select" name="rank_medicine">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Nature</td>
<td><select aria-label="Nature rank" class="skill-rank-select" name="rank_nature">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
</tr>
<tr>
<td>Observation</td>
<td><select aria-label="Observation rank" class="skill-rank-select" name="rank_observation">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Performance</td>
<td><select aria-label="Performance rank" class="skill-rank-select" name="rank_performance">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Roguery</td>
<td><select aria-label="Roguery rank" class="skill-rank-select" name="rank_roguery">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
</tr>
<tr>
<td>Society</td>
<td><select aria-label="Society rank" class="skill-rank-select" name="rank_society">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Spirituality</td>
<td><select aria-label="Spirituality rank" class="skill-rank-select" name="rank_spirituality">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
<td>Stealth</td>
<td><select aria-label="Stealth rank" class="skill-rank-select" name="rank_stealth">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select></td>
</tr>
</table>
</div>
<div class="subsection">
<div class="subhead">
<h3>Combat &amp; Class Skills</h3>
<button class="mini-btn" id="addCombatSkillBtn" type="button">Add Skill</button>
</div>
<div aria-label="Combat and class skills" class="skill-grid skill-grid-2" id="combatSkillGrid"></div>
<div class="subhint" style="margin-top:6px;">Use this for class skills (e.g., Spellcasting) and any other combat-related skills.</div>
</div>
<div class="subsection">
<div class="subhead">
<h3>Setting Skills</h3>
<button class="mini-btn" id="addSettingSkillBtn" type="button">Add Skill</button>
</div>
<div aria-label="Setting skills" class="skill-grid" id="settingSkillGrid"></div>
</div>
</div><div aria-labelledby="conditions_title" class="section" id="conditions">
<h2 id="conditions_title">Conditions</h2>
<div class="repeatable-header">
<div class="hint">Add any conditions currently affecting your character. Use N for conditions like <em>Stunned N</em> or <em>Burning N</em>.</div>
<button class="mini-btn" id="addConditionBtn" type="button">Add Condition</button>
</div>
<datalist id="conditionsDatalist">
<option value="Stunned"></option>
<option value="Off-Guard"></option>
<option value="Weakened"></option>
<option value="Slowed"></option>
<option value="Prone"></option>
<option value="Concealed"></option>
<option value="Obscured"></option>
<option value="Burning"></option>
<option value="Poisoned"></option>
<option value="Bleeding"></option>
<option value="Soaked"></option>
<option value="Immobilized"></option>
<option value="Charmed"></option>
<option value="Sealed"></option>
<option value="Taunted"></option>
<option value="Frightened"></option>
<option value="Dazzled"></option>
<option value="Shocked"></option>
<option value="Frozen"></option>
<option value="Grappled"></option>
</datalist>
<div class="conditions-list" id="conditionsList"></div>
</div><div aria-labelledby="weapons_title" class="section" id="weapons">
<h2 id="weapons_title">Weapons</h2>
<div class="repeatable-header">
<div class="hint">Gear is light in this game — this section is just for quickly tracking your current weapons.</div>
<button class="mini-btn" id="addWeaponBtn" type="button">Add Weapon</button>
</div>
<div class="weapons-list" id="weaponsList"></div>
</div><div aria-labelledby="keystones_title" class="section" id="keystones">
<h2 id="keystones_title">Keystones</h2>
<div class="subsection">
<div class="subhead">
<h3>Origin Keystones</h3>
<button class="mini-btn" id="addOriginKeystoneBtn" type="button">Add Keystone</button>
</div>
<table aria-label="Origin keystones" class="repeatable-table compact">
<thead>
<tr>
<th scope="col">Keystone</th>
<th scope="col" style="width: 46px;"> </th>
</tr>
</thead>
<tbody id="originKeystoneBody"></tbody>
</table>
</div>
<div class="subsection">
<div class="subhead">
<h3>Bond Keystones</h3>
<button class="mini-btn" id="addBondKeystoneBtn" type="button">Add Keystone</button>
</div>
<table aria-label="Bond keystones" class="repeatable-table compact">
<thead>
<tr>
<th scope="col" style="width: 28%;">Bond</th>
<th scope="col" style="width: 110px;">Rank</th>
<th scope="col">Notes / Hooks</th>
<th scope="col" style="width: 46px;"> </th>
</tr>
</thead>
<tbody id="bondKeystoneBody"></tbody>
</table>
</div>
<div class="subsection">
<div class="subhead">
<h3>Background Keystones</h3>
<button class="mini-btn" id="addBackgroundKeystoneBtn" type="button">Add Keystone</button>
</div>
<table aria-label="Background keystones" class="repeatable-table compact">
<thead>
<tr>
<th scope="col">Keystone</th>
<th scope="col" style="width: 46px;"> </th>
</tr>
</thead>
<tbody id="backgroundKeystoneBody"></tbody>
</table>
</div>
</div><div aria-labelledby="techniques_title" class="section" id="techniques"><h2 id="techniques_title">Techniques</h2><div class="repeatable-header"><div class="hint">Structured combat techniques (actions/energy + notes).</div><button class="mini-btn" id="addTechniqueBtn" type="button">Add Technique</button></div><div aria-label="Techniques" class="cards" id="techniqueCards"></div></div><div aria-labelledby="abilities_title" class="section" id="abilities">
<h2 id="abilities_title">Abilities &amp; Features</h2>
<div class="subhead" style="margin-bottom: 10px;">
<h3 style="margin:0;">Ability Entries</h3>
<button class="mini-btn" id="addAbilityBtn" type="button">Add Ability</button>
</div>
<div class="cards" id="abilityCards"></div>
</div><div aria-labelledby="notes_title" class="section" id="notes">
<h2 id="notes_title">Notes</h2>
<textarea name="notes" placeholder="Enter additional notes or background information here..." rows="10"></textarea>
</div><div class="sheet-footer" style="text-align:center; font-size:0.8em; margin-top:10px; color: var(--accent-color); font-family: var(--body-font);">
    New Lancaster University • ALIAS Records
  </div></div>
<!-- Repeatable templates (Pass 2) -->
<template id="keystoneSingleRowTemplate">
<tr data-repeatable-item="">
<td><input aria-label="Keystone" class="skill-name-input" data-field="text" placeholder="Keystone" type="text"/></td>
<td style="text-align:center;">
<button aria-label="Remove keystone" class="mini-btn danger" data-action="remove" type="button">×</button>
</td>
</tr>
</template>
<template id="bondKeystoneRowTemplate">
<tr data-repeatable-item="">
<td><input aria-label="Bond name" class="skill-name-input" data-field="name" placeholder="Bond name" type="text"/></td>
<td>
<select aria-label="Bond rank" class="bond-rank-select" data-field="rank">
<option value=""></option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
</select>
</td>
<td><input aria-label="Bond notes or hooks" class="bond-input" data-field="notes" placeholder="Notes / hooks" type="text"/></td>
<td style="text-align:center;">
<button aria-label="Remove bond keystone" class="mini-btn danger" data-action="remove" type="button">×</button>
</td>
</tr>
</template>
<template id="skillChipTemplate">
<div class="skill-chip" data-repeatable-item="">
<input aria-label="Skill name" class="skill-name-input" data-field="skill" placeholder="Skill" type="text"/>
<select aria-label="Skill rank" class="skill-rank-select" data-field="rank">
<option value=""></option>
<option value="0">0 - Untrained</option>
<option value="1">1 - Beginner</option>
<option value="2">2 - Advanced</option>
<option value="3">3 - Master</option>
<option value="4">4 - Legendary</option>
<option value="5">5 - Super</option>
<option value="6">6 - Cosmic</option>
</select>
<button aria-label="Remove skill" class="mini-btn danger" data-action="remove" type="button">×</button>
</div>
</template>
<template id="abilityCardTemplate">
<div class="ability-card" data-repeatable-item="">
<div class="ability-card-head">
<input aria-label="Ability name" class="ability-name" data-field="name" placeholder="Ability name" type="text"/>
<button aria-label="Remove ability" class="mini-btn danger" data-action="remove" type="button">Remove</button>
</div>
<textarea aria-label="Ability details" class="ability-text" data-field="text" placeholder="Effect, cost, notes..." rows="3"></textarea>
</div>
</template><template id="techniqueCardTemplate"><div class="ability-card technique-card" data-repeatable-item="">
<div class="ability-card-head">
<input aria-label="Technique name" class="ability-name" data-field="name" placeholder="Technique name" type="text"/>
<div class="tech-meta">
<select aria-label="Actions cost" class="tech-select" data-field="actions">
<option value=""></option>
<option value="1">1 Action</option>
<option value="2">2 Actions</option>
<option value="3">3 Actions</option>
</select>
<input aria-label="Energy cost" class="tech-number" data-field="energy" inputmode="numeric" min="0" placeholder="Energy" step="1" type="number"/>
</div>
<button aria-label="Remove technique" class="mini-btn danger" data-action="remove" type="button">Remove</button>
</div>
<textarea aria-label="Technique details" class="ability-text" data-field="text" placeholder="Effect / notes..." rows="3"></textarea>
</div></template>

<template id="conditionRowTemplate">
  <div class="condition-row" data-repeatable-item>
    <input type="text" class="condition-name" data-field="name" list="conditionsDatalist" placeholder="Condition" aria-label="Condition name" />
    <input type="number" class="condition-n" data-field="n" placeholder="N" inputmode="numeric" step="1" min="0" aria-label="Condition value (N)" />
    <input type="text" class="condition-notes" data-field="notes" placeholder="Duration / notes" aria-label="Condition duration or notes" />
    <button type="button" class="mini-btn danger" data-action="remove" aria-label="Remove">×</button>
  </div>
</template>

<template id="weaponRowTemplate">
  <div class="weapon-row" data-repeatable-item>
    <input type="text" class="weapon-name" data-field="name" placeholder="Weapon" aria-label="Weapon name" />
    <input type="text" class="weapon-skill" data-field="skill" placeholder="Skill" aria-label="Associated combat skill" />
    <input type="text" class="weapon-notes" data-field="notes" placeholder="Notes / tags" aria-label="Weapon notes or tags" />
    <button type="button" class="mini-btn danger" data-action="remove" aria-label="Remove">×</button>
  </div>
</template>

<div id="gxTooltip" class="gx-tooltip" role="tooltip" aria-hidden="true"></div>


<script type="module" src="app.js"></script>
</body>
</html>
